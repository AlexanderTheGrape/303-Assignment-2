scchart Pacemaker1 {
  
	input signal VSense, LRITO, VRPTO;
	output signal VPace;
	
	initial state top {
		signal LRI_start, LRI_ex, LRI_stop;
		signal VRP_start, VRP_stop, VRP_ex;
		signal AVI_start, AVI_ex, AVI_stop;
		signal PVARP_start, PVARP_stop, PVARP_ex;
		signal AEI_start, AEI_stop, AEI_ex;
		signal URI_start, URI_stop, URI_ex;
		
		region VRP_timer:
			initial state idle 	--> timer with VRP_start;
			state timer 		--> idle with VRPTO/VRP_ex;
				
		region LRI_timer:
			initial state idle	--> timer with LRI_start;
			state timer			--> idle with LRI_stop
								--> idle with LRITO / LRI_ex;
								
		region VRP:
			initial state idle 				--> connectorState1 with VSense
											--> connectorState1 with VPace;
			connector state connectorState1 --> waitVRP 		with / VRP_start;
			state waitVRP					--> idle			with VRP_ex
											--> connectorState2 with VSense;
			connector state connectorState2 --> waitVRP;
			
		region LRI:
			initial state init				--> connectorState1 with VSense;
			connector state connectorState1 --> waitVRP with / LRI_start;
			state waitVRP					--> waitLRI with VRP_ex;
			state waitLRI					--> connectorState2 with VSense
											--> connectorState3 with LRI_ex;
			connector state connectorState2 --> intState with / LRI_stop;
			connector state connectorState3 --> intState with / VPace;
			state intState					--> waitVRP with / LRI_start;
			
		region AVI_timer:
			initial state idle	--> timer with AVI_start;
			state timer 		--> idle with AVI_stop
								--> idle with AVI_ex;
			
		region PVARP_timer:
			initial state idle	--> timer with PVARP_start;
			state timer 		--> idle with PVARP_stop
								--> idle with PVARP_ex;
	};
	
	


	  
}

//	// LRI and URI excluded entirely
//    input bool AS, VS, AVI_expired, AEI_expired, PVARP_expired, VRP_expired;
//    output bool AP; //VP, AVI_start, AEI_start, PVARP_start, VRP_start;
//    
//    region Main:
//	    initial state init 
//	    entry /AP = 0;
//    	--> waitVS with AS / AVI_start = 1; 
//    	state waitVS
////	    	-->  wPVARPandVRPith VS; // / AEI_start = 1; PVARP_start = 1; VRP_start = 1;
////		    	//--> waitVS with !VS;
//	    state PVARPandVRP{
//	    	region PVARP:
//		    	initial state PVARPwait
//		    		--> PVARPexpireState with PVARP_expired;
//		    	final state PVARPexpireState;
//	      
//	      
//	      	region VRP:
//	        	initial state VRPwait
//	        		--> VRPexpireState with VRP_expired;
//	        	final state VRPexpireState;
//	    }
//    	>-> done;
//	    final state done;
//	    
//	  
//	  
//	-->  PVARPandVRP with VS; // / AEI_start = 1; PVARP_start = 1; VRP_start = 1;
//	//--> waitVS with !VS;